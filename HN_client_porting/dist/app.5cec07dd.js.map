{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/app.ts"],"names":[],"mappings":";;;;;ACCA,IAAA,IAAA,GAAA,aAAA,YAAA;AEAa,EFMX,KENW,CAAA,GFMX,IAAA,CENmB,AFMP,GENU,QFMS,EAAE,QAAgB,EAAA,kBENW;AACjD,IFMT,GENS,CAAA,AFMH,WENc,GAAG,EFMD,GAAG,QAAQ,CAAC,cAAc,CAAC,WENc,AFMH,CAAC;IAC7D,IAAG,CAAC,gBAAgB,EAAC;MACnB,MAAM,6BAA6B;AMVzC;AACA,ADDA,ILaI,AKbJ,ILaQ,CAAC,SAAS,GAAG,CKbrB,GAAA,OAAA,CAAA,ILaqC,gBKbrC,CAAA;ACEA,ADFS,ICET,ANYI,EKdK,CAAA,CLcD,CAAC,GMZT,GAAA,ENYiB,GAAG,CKdX,CAAA,MLcmB,CKdnB,CCET,CAAA,ADFS,OCET,CAAA,QDFS,EAAA,KCET,CAAA,CAAA;AACA,EDHS,ECGT,ANYI,IAAI,CAAC,CMZT,EDHS,CCGT,CDHS,IAAA,ECGT,CAAA,ENYuB,GAAG,GMZ1B,CAAA,INYkC;AMRlC,EDPS,ELgBL,CKhBK,EAAA,CLgBD,CAAC,OKhBA,CLgBQ,GAAG,AKhBX,ELgBa,AKhBb;ACQT,ENSE,EMTI,ADRG,KCQE,EDRF,CCQY,cDRZ,CAAA,kBAAA,CAAA,CAAA,OAAO;ECSd,ANSU,AKlBI,ILkBJ,CAAA,MMTC,EAAE,CAAC,ANSJ,CAAA,UAAU,GAApB,YAAA;AKlBc,CAAA,CCUd,ADVc,ELmBZ,GMTG,CNSC,CMTC,ANSA,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc;AKlBlD,CCUC,GNSG,AKnBJ,ILmBQ,CAAC,WKnBT,GLmBuB,AKnBvB,GLmB0B,IAAI,AKnB9B,CLmB+B,AKnB/B,QLmBuC,UKnBvC,CAAA;ACiBA,ADjBS,ELoBP,CAAC,CMHG,EDjBG,CAAA,GCiBG,GAAW,IAAI,IDjBlB,CAAA,GCiBkB,CAAA,GDjBlB,EAAA,ECiBwB,CAAA,CAAE,UDjB1B,EAAA;ACkBT,ENIY,AKtBH,ECkBH,ENIM,CAAA,KKtBH,EAAA,ECkBS,ANIN,CAAA,CKtBH,CCkBY,IAAI,CNIN,GAAjB,EMJuB,CAAA,ONIL,KMJiB,CAAC,INIA,EMJM,ANIN,CMJO;AAC7C,APjBA,EMFS,ECmBH,APjBN,ACqBI,CKvBK,EAAA,CLuBD,CAAC,CDrBT,GAAA,GMFS,CLuBQ,CMJG,ANIF,EKvBT,CCmBc,CNID,AKvBb,CLuBc,EMJI,CPjB3B,KOiB2B,CAAA,CNIM,CAAC,IDrBlC,QOiByC,CAAC,MAAM,CAAC;AAEjD,EPfE,ACkBA,CAAC,CKxBM,ECqBH,CAAC,IPfL,AMNO,MNMP,CAAA,EAAA,COemB,CAAC,IDrBb,CAAA,OCqByB,CAAC,QDrB1B,CAAA,CAAA,OAAO;ACuBhB,ENGY,AK1BI,ENOZ,EOgBE,ANGM,CMHL,ANGK,GDnBF,CAAC,KCmBC,CAAA,EMHO,CAAC,INGD,GDnBQ,ACmBzB,CMH0B,APhBA,EOgBE,SNG5B,CDnBsC,EOgBE,APhBA,COgBC,GPhBG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AOiBhE,ADxBgB,CAAA,CAAA,ENSZ,ACkBA,EMHE,CAAC,CPfC,ACkBE,CDlBD,OCkBS,GMHC,APfA,ACkBE,CMHD,EPfE,CCkBG,CDlBD,ACkBE,IMHE,EAAE,ENGI,CAAC,IAAI,CAAC,EAAE,CAAC,GMHC,CAAC;AAE7C,IPhBI,ACkBA,EMFE,CAAC,CPhBC,ACkBA,CDlBC,ACkBA,GMFG,CAAA,CAAE,OPhBO,CCkBC,CAAA,CDlBE,ACkBA,IDlBI;AET5B,EFUE,EEVF,AD4BI,GC5BJ,GAAA,CD4BW,QAAQ,IC5BnB,YAAA;EAIE,AFQA,ACiBA,CAAC,KDjBD,CAAA,EERA,GAAA,CAAY,GAAW,AFQvB,CAAA,CERuB,aFQT,GAAd,UAAe,IAAU,EAAA;ECmBf,EC1BR,AFQA,ECkBQ,CAAA,CC1BJ,AFQA,CERC,AFQA,IERI,GAAG,AD0BJ,CAAA,GC1BQ,CFQC,GAAG,QCkBG,EC1BO,CAAA,AD0BhC,CC1BkC,SD0BR,GAAW,EAAE,KAAa,EAAA;ICzBlD,AD0BA,EDnBsB,EEPlB,AD0BA,CC1BC,AD0BA,CDnBqB,EEPlB,AFOoB,EAAE,CEPnB,GAAG,KD0BK,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAA,CAAA,MAAA,CAAO,GAAG,EAAA,MAAA,CAAM,EAAE,KAAK,CAAC;AGlC9E,ACAA,EHSE,AD0BA,CAAC,CGnCH,ACAA,ELeoC,IAAI,AIfxC,ACAA,ELewC,CIfxC,ACAA,eDAA,ACAA,CDAA,ACAA,ODAA,ACAA,CDAA,ACAA,cDAA,ACAA,CDAA,ACAA,CDAA,ACAA;ADCA,ACAA,EHUE,AD0BQ,EDtB8B,AIdxC,ACAA,CHUE,AFIwC,CEJxC,AD0BQ,CAAA,EGpCV,ACAA,GDAA,ACAA,GHUE,CAAA,AD0BQ,CAAA,EGpCV,ACAA,CDAA,ACAA,MHUY,GAAV,CD0BqB,GAArB,AGpCF,ACAA,CDAA,ACAA,OHUE,ID0BA;AGlCF,ACAA,ELaE,CAAC,CEJC,AD0BA,AGnCJ,ACAA,IHSQ,AD0BA,CC1BC,AD0BA,GGnCT,ACAA,CHSa,CAAC,CETd,ACAA,EJmCiB,CC1BC,CAAC,CD0BC,EAAE,AGnCtB,ACAA,CDAA,ACAA,CHSwB,EAAE,IAAI,CAAC,GAAG,AETlC,ACAA,CDAA,ACAA,CHSoC,KAAK,CAAC;AEP1C,ACAA,ELaE,ACqBA,CAAC,CC1BC,AERE,ACAF,IHQI,AFKN,CELO,AFKP,GIbY,ACAF,CHQC,CAAC,CERG,ACAM,GHQL,AFKhB,CELgB,AFKhB,CELkB,WFKN,GAAZ,UAAa,IAAY,EAAE,IAAU,EAAA,0pBKUtC,wCDIA;AACD,ACHA,EJYA,EC3BI,AFIA,AIcJ,ACHA,ILXQ,CAAC,ACuBT,EC3BW,ED2BV,EC3Bc,CAAC,AGehB,EDGA,CJdmB,AKWnB,CLXoB,CEJC,AEkBrB,CFlBsB,EFIE,CAAC,CEJC,CAAC,IAAI,CAAC,AGehC,EDGA,MFlBwC,CAAC,CGezC,EDGA,ICHA,EDGA,ACHA,EDGA;AHSA,CAzCA,CCeE,ADfF,AGgC4C,ACHF,CHdvC,ADfH,GDkB2B,IAAI,CIca,ACHF,CLXX,AIca,ACHF,ILXX,QKWW,EDGE,ACHF,EDGE,ICHF,CAAA,CDGE,CAAA;EFhB5C,AEiBE,ACAA,ILf+B,GEFjC,CFEqC,CIenC,ACAA,CHjBD,AFEoC,WKenC,CAAY,CDAZ,CAAY,SCAmB,EDAA,ACAA,EDAA;AFjBjC,CAfA,CAAA,CAAA,CFiBqC,AKenC,CLfqC,CAAC,EKetC,GDGE,ECHF,GAGE,CDAA,CAAA,IAAA,ACAA,CDAA,ACAA,IDAA,ACAA,CAAA,CDAM,GCAN,EAAM,MDAW,EAAE,GCAF,EAAE,GDAQ,CAAC,IAAA,ACAD,CAAC,GDAA,CCAA,IAAA;AHnCnB,EFkBX,AIkBA,CJlBC,CKmBC,GHrCS,CAAA,CGqCL,CAAC,CHrCI,EGqCD,CHrCC,EGqCE,CHrCF,GGqCM,KAAA,CAAA,WAAW,CAAC,QAAA,CAAA,QAAQ,CAAC;AHpBxC,EFGE,AIkBA,EFrBF,AGqBI,ILlBF,CAAA,AKkBM,CAAC,KHrBT,AGqBc,CDAZ,CAAA,CFrBF,AFGE,AKkBe,CLlBf,KAAK,AKkBgB,CAAC,CDAtB,CJlBA,AIkBA,GCA2B,CHrB7B,AGqB8B,EDAtB,GAAN,ACAiC,GLlBjC,EEHF,MAAA,CEqBE,CFrBF;EAAiC,EEsB7B,ACCA,IDDM,ACCF,EDDI,CFtBqB,CAAA,CEsBlB,ACCH,CAAC,KAAK,CAAC,CDDI,CAAC,CFtBS,EAAA,CEsBL,ACCH,CDDI,IFtBI,AGuBH,CHvBG,AGuBF,CDDI,CAAC,ACCH,CDDI,CAAC;EFtBtC,EFII,AImBA,ECCE,ELpBI,AImBA,GFvBV,AEuBa,ACCH,CAAC,EDDK,GJnBG,AKoBH,CDDI,EJnBE,AKoBH,EHxBnB,CAAA,AEuBoB,CAAA,CFvBpB,CGwByB,CAAC,CLpBI,CAAC,GKoBA,CLpBI,AKoBH,IDDC,CAAC,ACCG,GAAG,KDDN,ACCU,CDDV,ACCW,GAAG,CAAC,ODDJ,ACCW,CDDV,ACCU,CAAE,MDDL,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IJjB7D,AIkBA,ECCE,ELnBE,AIkBE,GCCA,CAAC,KLnBM,CIkBG,GAAe,ACCf,CLnBE,AKmBF,CAAE,CLnBE,AIkBc,CAAC,GJlBX,IAAI,AIkBc,CJlBb,AIkBa,CAAE,WJlBH,EAAE;EEF/C,EEsBI,EJnBE,GImBE,CJnBE,CAAC,EImBC,CAAC,GAAC,CAAC,EAAE,CAAC,EJnBK,CAAC,AImBH,IJnBO,CAAC,CImBF,CAAC,IJnBO,CAAA,AImBF,CJnBI,AImBH,KAAK,CAAC,MA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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from \"../types\";\r\nimport View from \"./view\";\r\n\r\nexport default class Router {\r\n  routeTable: RouteInfo[];\r\n  defaultRoute: RouteInfo | null;\r\n\r\n  constructor() {\r\n    window.addEventListener('hashchange', this.route.bind(this));\r\n\r\n    this.routeTable = [];\r\n    this.defaultRoute = null;\r\n  }\r\n\r\n  setDefaultPage(page: View): void {\r\n    this.defaultRoute = { path: '', page };\r\n  }\r\n\r\n  addRoutePath(path: string, page: View): void {\r\n    this.routeTable.push({ path, page });\r\n  }\r\n\r\n  route() {\r\n    const routePath = location.hash;\r\n\r\n    if (routePath === '' && this.defaultRoute) {\r\n      this.defaultRoute.page.render();\r\n    }\r\n\r\n    for (const routeInfo of this.routeTable) {\r\n      if (routePath.indexOf(routeInfo.path) >= 0) {\r\n        routeInfo.page.render();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}","\r\nexport default abstract class View {\r\n  private template: string;\r\n  private renderTemplate: string;\r\n  private container: HTMLElement;\r\n  private htmlList: string[];\r\n\r\n  constructor(containerId: string, template: string) {\r\n    const containerElement = document.getElementById(containerId);\r\n    if(!containerElement){\r\n      throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.'\r\n    }\r\n\r\n    this.container = containerElement;\r\n    this.template = template;\r\n    this.renderTemplate = template;\r\n    this.htmlList = [];\r\n  }\r\n  protected updateView(): void {\r\n    this.container.innerHTML = this.renderTemplate;\r\n    this.renderTemplate = this.template;\r\n  }\r\n\r\n  protected addHtml(htmlString: string): void {\r\n    this.htmlList.push(htmlString);\r\n  }\r\n\r\n  protected getHtml(): string {\r\n    const snapshot = this.htmlList.join('');\r\n    this.clearHtmlList();\r\n    return snapshot;\r\n  }\r\n\r\n  protected setTemplateData(key: string, value: string): void {\r\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n  }\r\n\r\n  private clearHtmlList(): void {\r\n    this.htmlList = [];\r\n  }\r\n\r\n  abstract render(): void;\r\n}\r\n","import { NewsFeed, NewsDetail } from '../types';\r\n\r\nexport class Api {\r\n  ajax: XMLHttpRequest;\r\n  url: string;\r\n\r\n  constructor(url: string) {\r\n    this.ajax = new XMLHttpRequest();\r\n    this.url = url;\r\n  }\r\n\r\n  getRequest<AjaxResponse>(): AjaxResponse {\r\n    this.ajax.open('GET', this.url, false);\r\n    this.ajax.send();\r\n\r\n    return JSON.parse(this.ajax.response);\r\n  }\r\n}\r\n\r\nexport class NewsFeedApi extends Api {\r\n  getData(): NewsFeed[] {\r\n    return this.getRequest<NewsFeed[]>();\r\n  }\r\n}\r\n\r\nexport class NewsDetailApi extends Api {\r\n  getData(): NewsDetail {\r\n    return this.getRequest<NewsDetail>();\r\n  }\r\n}","\r\nexport const NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\r\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';","import View from \"../core/view\";\r\nimport { NewsDetailApi } from \"../core/api\";\r\nimport { NewsDetail, NewsComment } from \"../types\";\r\nimport { CONTENT_URL } from \"../config\";\r\n\r\nconst template = `\r\n<div class=\"bg-gray-600 min-h-screen pb-8\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n            <i class=\"fa fa-times\"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n    <h2>{{__title__}}</h2>\r\n    <div class=\"text-gray-400 h-20\">\r\n      {{__content__}}\r\n    </div>\r\n\r\n    {{__comments__}}\r\n\r\n  </div>\r\n</div>\r\n`;\r\nexport default class NewsDetailView extends View {\r\n  constructor(containerId: string) {\r\n\r\n\r\n    super(containerId, template);\r\n  }\r\n\r\n  render() {\r\n    const id = location.hash.substr(7);\r\n    const api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\r\n    const newsDetail: NewsDetail = api.getData();\r\n\r\n    for(let i=0; i < window.store.feeds.length; i++) {\r\n      if (window.store.feeds[i].id === Number(id)) {\r\n        window.store.feeds[i].read = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.setTemplateData('comments', this.makeComment(newsDetail.comments))\r\n    this.setTemplateData('currentPage', String(window.store.currentPage));\r\n    this.setTemplateData('title', newsDetail.title);\r\n    this.setTemplateData('content', newsDetail.content);\r\n\r\n    this.updateView();\r\n  }\r\n\r\n  makeComment(comments: NewsComment[]): string {\r\n    for(let i = 0; i < comments.length; i++) {\r\n      const comment: NewsComment = comments[i];\r\n\r\n      this.addHtml(`\r\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n          <div class=\"text-gray-400\">\r\n            <i class=\"fa fa-sort-up mr-2\"></i>\r\n            <strong>${comment.user}</strong> ${comment.time_ago}\r\n          </div>\r\n          <p class=\"text-gray-700\">${comment.content}</p>\r\n        </div>\r\n      `);\r\n\r\n      if (comment.comments.length > 0) {\r\n        this.addHtml(this.makeComment(comment.comments));\r\n      }\r\n    }\r\n\r\n    return this.getHtml();\r\n  }\r\n}\r\n","import View from \"../core/view\";\r\nimport { NewsFeedApi } from \"../core/api\";\r\nimport { NewsFeed } from \"../types\";\r\nimport { NEWS_URL } from \"../config\";\r\n\r\nlet template: string = `\r\n<div class=\"bg-gray-600 min-h-screen\">\r\n  <div class=\"bg-white text-xl\">\r\n    <div class=\"mx-auto px-4\">\r\n      <div class=\"flex justify-between items-center py-6\">\r\n        <div class=\"flex justify-start\">\r\n          <h1 class=\"font-extrabold\">Hacker News</h1>\r\n        </div>\r\n        <div class=\"items-center justify-end\">\r\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n            Previous\r\n          </a>\r\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n            Next\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"p-4 text-2xl text-gray-700\">\r\n    {{__news_feed__}}\r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default class NewsFeedView extends View {\r\n  private api: NewsFeedApi;\r\n  private feeds: NewsFeed[];\r\n\r\n  constructor(containerId: string) {\r\n\r\n\r\n    super(containerId, template);\r\n\r\n    this.api = new NewsFeedApi(NEWS_URL);\r\n    this.feeds = window.store.feeds;\r\n\r\n    if (this.feeds.length === 0) {\r\n      this.feeds = window.store.feeds = this.api.getData();\r\n      this.makeFeeds();\r\n    }\r\n  }\r\n\r\n  render(): void {\r\n    window.store.currentPage = Number(location.hash.substr(7) || 1);\r\n\r\n    for(let i = (window.store.currentPage - 1) * 10; i < window.store.currentPage * 10; i++) {\r\n      const { id, title, comments_count, user, points, time_ago, read } = this.feeds[i];\r\n      this.addHtml(`\r\n        <div class=\"p-6 ${read ? 'bg-red-500' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n          <div class=\"flex\">\r\n            <div class=\"flex-auto\">\r\n              <a href=\"#/show/${id}\">${title}</a>\r\n            </div>\r\n            <div class=\"text-center text-sm\">\r\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex mt-3\">\r\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `);\r\n    }\r\n\r\n    this.setTemplateData('news_feed', this.getHtml());\r\n    this.setTemplateData('prev_page', String(window.store.currentPage > 1 ? window.store.currentPage - 1 : 1));\r\n    this.setTemplateData('next_page', String(window.store.currentPage < this.feeds.length / 10 ? window.store.currentPage + 1 :this.feeds.length / 10))\r\n\r\n    this.updateView();\r\n  }\r\n\r\n  private makeFeeds(): void {\r\n    for (let i = 0; i < this.feeds.length; i++) {\r\n      this.feeds[i].read = false;\r\n    }\r\n  }\r\n}","export { default as NewsDetailView }  from './news-detail-view';\r\nexport { default as NewsFeedView }  from './news-feed-view';\r\n","// javascript HN_client app.js => ts 파일로 porting\r\n//기존 app.ts 파일 분리 / 모듈 & 캡슐화\r\nimport Router from './core/router';\r\nimport { NewsFeedView, NewsDetailView } from './page';\r\nimport { Store } from './types';\r\n\r\n\r\n// 공유되는 값\r\nconst store: Store = {\r\n  currentPage: 1,\r\n  feeds: [],\r\n};\r\ndeclare global {\r\n  interface Window {\r\n    store: Store\r\n  }\r\n}\r\n\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView('root');\r\nconst newsDetailView = new NewsDetailView('root');\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\n\r\nrouter.addRoutePath('/page/', newsFeedView);\r\nrouter.addRoutePath('/show/', newsDetailView);\r\n\r\nrouter.route();\r\n"]}